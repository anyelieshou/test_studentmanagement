<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>用户注册</title>
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <link rel="stylesheet" href="${ctxPath}/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="${ctxPath}/plugins/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="${ctxPath}/plugins/ionicons/css/ionicons.min.css">
    <link rel="stylesheet" href="${ctxPath}/plugins/adminLTE/css/AdminLTE.css">
    <link rel="stylesheet" href="${ctxPath}/plugins/iCheck/square/blue.css">
</head>
<body class="hold-transition register-page">
<div class="register-box">
    <div class="register-logo">
        <a href="all-admin-index.html"><b>学生</b>信息管理系统</a>
    </div>
    <div class="register-box-body">
        <p class="login-box-msg">新用户注册</p>
            <div class="form-group has-feedback">
                用户账号:<input type="text" id="u_id" class="form-control">
            </div>
            <div class="form-group has-feedback">
                用户姓名:<input type="text" id="u_name" class="form-control">
            </div>
            <div class="form-group has-feedback">
                用户密码:<input type="password" id="u_pass" class="form-control">
                <span class="glyphicon glyphicon-lock form-control-feedback"></span>
            </div>
            <div class="form-group has-feedback">
                确认密码:<input type="password" class="form-control">
                <span class="glyphicon glyphicon-log-in form-control-feedback"></span>
            </div>
            <div class="form-group has-feedback">
               出生日期:<input type="date" id="u_birthday" class="form-control">
            </div>
            <div class="form-group has-feedback">
               电话号码:<input type="text" id="u_tel" class="form-control">
            </div>
            <div class="row">
                <div class="col-xs-8">
                    <div class="checkbox icheck">
                        <label>
                            <input type="checkbox"> 我同意 <a href="#">协议</a>
                        </label>
                    </div>
                </div>
                <div class="col-xs-4">
                    <button id="btn" onclick="regist()" class="btn btn-primary btn-block btn-flat">注册</button>
                </div>
            </div>
        <a href="${ctxPath}/user/login" class="text-center">我有账号，现在就去登录</a>
    </div>
</div>
<script src="${ctxPath}/plugins/jQuery/jquery-2.2.3.min.js"></script>
<script src="${ctxPath}/plugins/bootstrap/js/bootstrap.min.js"></script>
<script src="${ctxPath}/plugins/iCheck/icheck.min.js"></script>
<script>
    function regist(){
        var uId=$("#u_id").val();
        var uName=$("#u_name").val();
        var uPass=$("#u_pass").val();
        var uBirthday=$("#u_birthday").val();
        var uTel=$("#u_tel").val();
        $.post("${ctxPath}/user/registUser",{
            idcard:uId,
            username:uName,
            password:uPass,
            birthday:uBirthday,
            tel:uTel
        },function (result){
            if (result.status!=-1){
                alert(result.info);
                window.location.href="${ctxPath}/user/login"
            }else{
                alert(result.error);
                window.location.href="${ctxPath}/user/regist"
            }
        })
    }
    $(function() {
        $('input').iCheck({
            checkboxClass: 'icheckbox_square-blue',
            radioClass: 'iradio_square-blue',
            increaseArea: '20%'
        });
    });
</script>
</body>

</html>